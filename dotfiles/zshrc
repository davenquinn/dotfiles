#
# Executes commands at the start of an interactive session.
#
# Authors:
#   Sorin Ionescu <sorin.ionescu@gmail.com>
#

# Source Prezto.
if [[ -s "${ZDOTDIR:-$HOME}/.zprezto/init.zsh" ]]; then
  source "${ZDOTDIR:-$HOME}/.zprezto/init.zsh"
fi

. $(brew --prefix)/etc/profile.d/z.sh
# Customize to your needs...

if (($SHLVL == 1 )); then

  if [[ $(uname) == 'Linux' ]]; then
    screenfetch
  fi

  if [[ $(uname) == 'Darwin' ]]; then
    archey -c
  fi

else
  echo "Starting subshell (level ${SHLVL})"
fi


autoload -U zmv
# Use vim key bindings
bindkey -v

export DOTFILES="$HOME/Environment/dotfiles"
export LOCALBIN="$HOME/bin:$DOTFILES/bin"

export PATH="$LOCALBIN:$PATH"
# export MANPATH="/usr/local/man:$MANPATH"

# You may need to manually set your language environment
# export LANG=en_US.UTF-8

# Donâ€™t clear the screen after quitting a manual page
export MANPAGER="less -X";

# Always enable colored `grep` output
export GREP_OPTIONS="--color=auto";

# Preferred editor for local and remote sessions
if [[ -n $SSH_CONNECTION ]]; then
  export EDITOR='vim'
else
  export EDITOR='vim'
fi

alias wow='git status'
alias such='git add'
alias very='git commit -m'
alias text-changes='git diff --color-words'
alias grr='git graph'

alias du='du -h'

export PIP_RESPECT_VIRTUALENV=true

function killport () {
  kill -9 `lsof -t -i :$1`
}

function pyview() {
  mvim -R `python -c "import os, $1; print os.path.dirname($1.__file__)"`
}

function diff() {
  git diff --color=always $1 $2 | less -r
}

# Add a newline before commands
precmd() { print "" }

#function env() {
  #print "  Command to edit local environment
  #env
     #.edit ........ modify environment in MacVim
     #.reload ..... reload environment definition
     #.print .. show environment (printenv alias)
     #"}
alias env.reload='source ~/.zshrc'
alias env.print='printenv'

# Project management
alias prm='. ~/Environment/dotfiles/bin/prm/prm.sh'
# AlphaMELTS
alias run-alphamelts='/Applications/alphamelts/1.5/run_alphamelts.command'

if [[ $(uname) == 'Linux' ]]; then
  alias env.edit='vim ~/Environment/dotfiles'
fi

if [[ $(uname) == 'Darwin' ]]; then
fi


if [ -f ~/.zshrc.local ]; then
  source ~/.zshrc.local
fi



